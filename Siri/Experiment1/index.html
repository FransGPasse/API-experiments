<!DOCTYPE html>
<html>
  <head>
  
 
  <style>
 
      body {
        color: black;
        background-color: rgba(71, 194, 112, 0.363);
        font-size: 60px;
        font-family: "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
        text-align: center;
      }
    </style>
  <script src="//cdnjs.cloudflare.com/ajax/libs/annyang/2.6.0/annyang.min.js"></script>
  </head>
  <body>
<script>
if (annyang) {

 //Declared variables and sound audio. These are emplimented on many different feelings
        
        let sad = new Audio("Sad.m4a");
        let happy = new Audio("Happy.m4a");
        let stressed = new Audio("Stressed “walk”.m4a");
        let hello = new Audio("Hello “hi, how are you”.m4a");
        let goodbye = new Audio("Farewell “see you later alligator”.m4a");
        
 //Sad sounds that will play when a specific command is done
        let sadSounds = [
            "Sad “it will get better, but pls tell me why”.m4a",
            "Sad “pls tell me why”.m4a",   
            
        ];
   
   //Happy sounds that will play when a specific sound is played 
        let plsContinue = [
            "Happy “that’s great”.m4a",
            "Happy “that’s nice to hear”.m4a",
            "Happy “nice tell me”.m4a",

        ];
        
    //neutral sounds that will play when no specified command is done
        let neutral = [
          "Neutral.m4a",
          "Neutral 2.m4a",
          "Neutral 3.m4a",
          "Neutral 4.m4a",
          "Neutral 5.m4a",
          "Neutral 6.m4a",
        ];       
        
 //Listens for words or feelings
        var feelings = function (tag) {
        //Splits based on symbol " " and puts in array
          let word = tag.split(/\s+/);

          //Console logs the first and last word from in the array
          console.log("First word: " + word[0]);
          console.log("Last word: " + word[word.length - 1]);
 
 //Listens if the word in the string is present in the array and will play the assignes sound
          if (word.indexOf("mad") > -1) {
            sad.play();
          } else if (word.indexOf("angry") > -1) {
            sad.play();
          } else if (word.indexOf("tired") > -1) {
            sad.play();
          } else if (word.indexOf("hungry") > -1) {
            sad.play();
          } else if (word.indexOf("bored") > -1) {
            sad.play();
          } else if (word.indexOf("stressed") > -1) {
            stressed.play();
          } else if (word.indexOf("depressed") > -1) {
            sad.play();

          } else if (word.indexOf("glad") > -1) {
            happy.play();
          } else if (word.indexOf("love") > -1) {
            happy.play();
          } else if (word.indexOf("excited") > -1) {
            happy.play();

          } else if (word.indexOf("hello") > -1) {
            hello.play();
          } else if (word.indexOf("goodbye") > -1) {
            goodbye.play();
            
            
   //Listens for the word "happy" and plays sounds a randome sound (taken from the main annyang)
          } else if (word.indexOf("happy") > -1)  {
            let randomContinue =
              plsContinue[Math.floor(Math.random() * plsContinue.length)];

            let continueFiles = new Audio(randomContinue);
            continueFiles.play();

   //Listens for the word "sad" and plays sounds a randome sound
          } else if (word.indexOf("sad") > -1)  {
            let randomSadSounds =
              sadSounds[Math.floor(Math.random() * sadSounds.length)];

            let sadSoundsFiles = new Audio(randomSadSounds);
            sadSoundsFiles.play();
  
   //Searches if any of the words are present in the array and if not plays a randomized neutral sound (taken from the main)
           } else {
            let randomAudio =
              neutral[Math.floor(Math.random() * neutral.length)];

            let neutralFiles = new Audio(randomAudio);
            neutralFiles.play();
          }
        };

 //Declares variable for the commands used
        var commands = {
          "*tag": feelings,
        };

        //Prints what you say to the API document 
        annyang.addCallback("result", function (phrases) {
          document.body.innerHTML = "You said: " + phrases[0];
        });

  //Adds debug console and commands, sets language to English and starts Annyang
        annyang.debug();
        annyang.addCommands(commands);
        annyang.setLanguage("en");
        annyang.start();
}
</script>
  </body>
  
</html>
